{"config":{"indexing":"full","lang":["en"],"min_search_length":3,"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"Overview","title":"Overview"},{"location":"#overview","text":"","title":"Overview"},{"location":"base/","text":"","title":"Base"},{"location":"algorithms/cdc/","text":"Content Defined Chunking Compatible with fastcdc Functions data_chunks ( data , utf32 , avg_chunk_size = 1024 ) A generator that yields data-dependent chunks for data . Usage Example: for chunk in data_chunks ( data ): hash ( chunk ) Parameters: Name Type Description Default data bytes Raw data for variable sized chunking. required utf32 bool If true assume we are chunking text that is utf32 encoded. required avg_chunk_size int Target chunk size in number of bytes. 1024 Returns: Type Description Union[Generat,[bytes]] A generator that yields data chunks of variable sizes. cdc_offset ( buffer , mi , ma , cs , mask_s , mask_l ) Find breakpoint offset for a given buffer. Parameters: Name Type Description Default buffer Data The data to be chunked. required mi int Minimum chunk size. required ma int Maximung chunk size. required cs int Center size. required mask_s int Small mask. required mask_l int Large mask. required Returns: Type Description int Offset of dynamic cutpoint in number of bytes. get_params ( avg_size : int ) -> tuple Calculate CDC parameters Parameters: Name Type Description Default avg_size int Target average size of chunks in number of bytes. required Returns: Type Description tuple Tuple of (min_size, max_size, center_size, mask_s, mask_l).","title":"CDC"},{"location":"algorithms/cdc/#iscc_core.cdc-functions","text":"","title":"Functions"},{"location":"algorithms/cdc/#iscc_core.cdc.data_chunks","text":"A generator that yields data-dependent chunks for data . Usage Example: for chunk in data_chunks ( data ): hash ( chunk ) Parameters: Name Type Description Default data bytes Raw data for variable sized chunking. required utf32 bool If true assume we are chunking text that is utf32 encoded. required avg_chunk_size int Target chunk size in number of bytes. 1024 Returns: Type Description Union[Generat,[bytes]] A generator that yields data chunks of variable sizes.","title":"data_chunks()"},{"location":"algorithms/cdc/#iscc_core.cdc.cdc_offset","text":"Find breakpoint offset for a given buffer. Parameters: Name Type Description Default buffer Data The data to be chunked. required mi int Minimum chunk size. required ma int Maximung chunk size. required cs int Center size. required mask_s int Small mask. required mask_l int Large mask. required Returns: Type Description int Offset of dynamic cutpoint in number of bytes.","title":"cdc_offset()"},{"location":"algorithms/cdc/#iscc_core.cdc.get_params","text":"Calculate CDC parameters Parameters: Name Type Description Default avg_size int Target average size of chunks in number of bytes. required Returns: Type Description tuple Tuple of (min_size, max_size, center_size, mask_s, mask_l).","title":"get_params()"},{"location":"algorithms/minhash/","text":"Minimum Hash Functions minhash ( features ) Calculate a 64 dimensional minhash integer vector. minhash_64 ( features ) Create 64-bit minimum hash digest. minhash_256 ( features ) Create 256-bit minimum hash digest. compress ( mhash , lsb = 4 ) Compress minhash vector to byte hash-digest. Concatenates lsb number of least significant bits from each integer in mhash . For example an mhash with 64 integers will produce a 256-bit summary of the minhash vector.","title":"Minhash"},{"location":"algorithms/minhash/#iscc_core.minhash-functions","text":"","title":"Functions"},{"location":"algorithms/minhash/#iscc_core.minhash.minhash","text":"Calculate a 64 dimensional minhash integer vector.","title":"minhash()"},{"location":"algorithms/minhash/#iscc_core.minhash.minhash_64","text":"Create 64-bit minimum hash digest.","title":"minhash_64()"},{"location":"algorithms/minhash/#iscc_core.minhash.minhash_256","text":"Create 256-bit minimum hash digest.","title":"minhash_256()"},{"location":"algorithms/minhash/#iscc_core.minhash.compress","text":"Compress minhash vector to byte hash-digest. Concatenates lsb number of least significant bits from each integer in mhash . For example an mhash with 64 integers will produce a 256-bit summary of the minhash vector.","title":"compress()"},{"location":"algorithms/simhash/","text":"Functions similarity_hash ( hash_digests ) Creates a similarity preserving hash from a sequence of equal sized hash digests. Parameters: Name Type Description Default hash_digests list A sequence of equaly sized byte-hashes. required Returns: Type Description bytes Similarity byte-hash","title":"Simhash"},{"location":"algorithms/simhash/#iscc_core.simhash-functions","text":"","title":"Functions"},{"location":"algorithms/simhash/#iscc_core.simhash.similarity_hash","text":"Creates a similarity preserving hash from a sequence of equal sized hash digests. Parameters: Name Type Description Default hash_digests list A sequence of equaly sized byte-hashes. required Returns: Type Description bytes Similarity byte-hash","title":"similarity_hash()"},{"location":"algorithms/wtahash/","text":"Winner Takes All Hash Functions wtahash ( vec : Sequence [ float ]) -> bytes Calculate 256-bit WTA Hash for vector with 380 values (MP7 frame signature).","title":"WTAHash"},{"location":"algorithms/wtahash/#iscc_core.wtahash-functions","text":"","title":"Functions"},{"location":"algorithms/wtahash/#iscc_core.wtahash.wtahash","text":"Calculate 256-bit WTA Hash for vector with 380 values (MP7 frame signature).","title":"wtahash()"},{"location":"codec/codec/","text":"ISCC - Codec The iscc_core.codec module provides encoding, decoding and transcoding related functions. ISCC Component Structure: Header: <type> <subtype> <version> <length> each coded as a variable-length 4-bit sequence. Body: <hash-digest> with number of bits as indicated by <length> Functions write_header ( mtype , stype , version = 0 , length = 64 ) Encodes header values with nibble-sized (4-bit) variable-length encoding. The result is minimum 2 and maximum 8 bytes long. If the final count of nibbles is uneven it is padded with 4-bit 0000 at the end. Parameters: Name Type Description Default mtype int Main-type of component. required stype int Sub-type of component. required version int Version of component algorithm. 0 length int Length of component in number of bits (multiple of 32) 64 Returns: Type Description bytes Byte encoded ISCC header. read_header ( data ) Decodes varnibble encoded header and returns it together with remaining bytes. Parameters: Name Type Description Default data bytes ISCC bytes digest required Returns: Type Description (type, subtype, version, length, remaining bytes) _write_varnibble ( n ) private Writes integer to variable length sequence of 4-bit chunks. Variable-length encoding scheme: prefix bits nibbles data bits unsigned range 0 1 3 0 - 7 10 2 6 8 - 71 110 3 9 72 - 583 1110 4 12 584 - 4679 _read_varnibble ( b ) private Reads first varnibble, returns its integer value and remaining bits. encode_component ( mtype , stype , version , length , digest ) Encode a ISCC component inlcuding header and body with standard base32 encoding. Note If digest has more bits than specified by length it wil be truncated. Parameters: Name Type Description Default mtype int Main-type of component. required stype int Sub-type of component. required version int Version of component algorithm. required length int Length of component in number of bits (multiple of 32) required digest bytes The hash digest of the component. required Returns: Type Description str Base32 encoded component code.","title":"Codec"},{"location":"codec/codec/#iscc-codec","text":"The iscc_core.codec module provides encoding, decoding and transcoding related functions.","title":"ISCC - Codec"},{"location":"codec/codec/#iscc_core.codec--iscc-component-structure","text":"Header: <type> <subtype> <version> <length> each coded as a variable-length 4-bit sequence. Body: <hash-digest> with number of bits as indicated by <length>","title":"ISCC Component Structure:"},{"location":"codec/codec/#iscc_core.codec-functions","text":"","title":"Functions"},{"location":"codec/codec/#iscc_core.codec.write_header","text":"Encodes header values with nibble-sized (4-bit) variable-length encoding. The result is minimum 2 and maximum 8 bytes long. If the final count of nibbles is uneven it is padded with 4-bit 0000 at the end. Parameters: Name Type Description Default mtype int Main-type of component. required stype int Sub-type of component. required version int Version of component algorithm. 0 length int Length of component in number of bits (multiple of 32) 64 Returns: Type Description bytes Byte encoded ISCC header.","title":"write_header()"},{"location":"codec/codec/#iscc_core.codec.read_header","text":"Decodes varnibble encoded header and returns it together with remaining bytes. Parameters: Name Type Description Default data bytes ISCC bytes digest required Returns: Type Description (type, subtype, version, length, remaining bytes)","title":"read_header()"},{"location":"codec/codec/#iscc_core.codec._write_varnibble","text":"Writes integer to variable length sequence of 4-bit chunks. Variable-length encoding scheme: prefix bits nibbles data bits unsigned range 0 1 3 0 - 7 10 2 6 8 - 71 110 3 9 72 - 583 1110 4 12 584 - 4679","title":"_write_varnibble()"},{"location":"codec/codec/#iscc_core.codec._read_varnibble","text":"Reads first varnibble, returns its integer value and remaining bits.","title":"_read_varnibble()"},{"location":"codec/codec/#iscc_core.codec.encode_component","text":"Encode a ISCC component inlcuding header and body with standard base32 encoding. Note If digest has more bits than specified by length it wil be truncated. Parameters: Name Type Description Default mtype int Main-type of component. required stype int Sub-type of component. required version int Version of component algorithm. required length int Length of component in number of bits (multiple of 32) required digest bytes The hash digest of the component. required Returns: Type Description str Base32 encoded component code.","title":"encode_component()"},{"location":"components/","text":"ISCC - Components A standard ISCC-Code is build from multiple components. Each component serve a different purpose.","title":"ISCC - Components"},{"location":"components/#iscc-components","text":"A standard ISCC-Code is build from multiple components. Each component serve a different purpose.","title":"ISCC - Components"},{"location":"components/code_data/","text":"ISCC - Data-Code A similarity perserving hash for binary data (soft hash). Functions gen_data_code ( stream , bits = 64 ) Create a similarity preserving ISCC Data-Code with the latest standard algorithm. Parameters: Name Type Description Default stream Input data stream. required bits int Bit-length of ISCC Data-Code (default 64). 64 Returns: Type Description str ISCC Data-Code gen_data_code_v0 ( stream , bits = 64 ) Create an ISCC Data-Code with algorithm v0. Parameters: Name Type Description Default stream Input data stream. required bits int Bit-length of ISCC Data-Code (default 64). 64 Returns: Type Description str hash_data_v0 ( stream ) Create a similarity preserving Data-Hash digest Parameters: Name Type Description Default stream Input data stream. required Returns: Type Description bytes Similarity preserving Data-Hash digest","title":"Data-Code"},{"location":"components/code_data/#iscc-data-code","text":"A similarity perserving hash for binary data (soft hash).","title":"ISCC - Data-Code"},{"location":"components/code_data/#iscc_core.code_data-functions","text":"","title":"Functions"},{"location":"components/code_data/#iscc_core.code_data.gen_data_code","text":"Create a similarity preserving ISCC Data-Code with the latest standard algorithm. Parameters: Name Type Description Default stream Input data stream. required bits int Bit-length of ISCC Data-Code (default 64). 64 Returns: Type Description str ISCC Data-Code","title":"gen_data_code()"},{"location":"components/code_data/#iscc_core.code_data.gen_data_code_v0","text":"Create an ISCC Data-Code with algorithm v0. Parameters: Name Type Description Default stream Input data stream. required bits int Bit-length of ISCC Data-Code (default 64). 64 Returns: Type Description str","title":"gen_data_code_v0()"},{"location":"components/code_data/#iscc_core.code_data.hash_data_v0","text":"Create a similarity preserving Data-Hash digest Parameters: Name Type Description Default stream Input data stream. required Returns: Type Description bytes Similarity preserving Data-Hash digest","title":"hash_data_v0()"},{"location":"components/code_instance/","text":"ISCC Instance-Code Classes InstanceHasher Incremental Instance-Hash generator. Methods push ( self , data ) Push data to the Instance-Hash generator. Parameters: Name Type Description Default data Data Data to be hashed required digest ( self ) Return Instance-Hash Returns: Type Description bytes Instance-Hash digest InstanceHasherV0 Incremental Instance-Hash generator. Methods push ( self , data ) Push data to the Instance-Hash generator. Parameters: Name Type Description Default data Data Data to be hashed required digest ( self ) Return Instance-Hash Returns: Type Description bytes Instance-Hash digest Functions gen_instance_code ( stream , bits = 64 ) Create an ISCC Instance-Code with the latest standard algorithm Parameters: Name Type Description Default stream Stream Binary data stream for Instance-Code generation. required bits int Bit-length resulting Instance-Code (multiple of 64) 64 Returns: Type Description str Instance-Code gen_instance_code_v0 ( stream , bits = 64 ) Create an ISCC Instance-Code with algorithm v0 Parameters: Name Type Description Default stream Stream Binary data stream for Instance-Code generation. required bits int Bit-length of resulting Instance-Code (multiple of 64) 64 Returns: Type Description str Instance-Code hash_instance_v0 ( stream ) Create 256-bit hash digest for the Instance-Code body Parameters: Name Type Description Default stream Stream Binary data stream for hash generation. required Returns: Type Description bytes 256-bit Instance-Hash digest","title":"Instance-Code"},{"location":"components/code_instance/#iscc-instance-code","text":"","title":"ISCC Instance-Code"},{"location":"components/code_instance/#iscc_core.code_instance-classes","text":"","title":"Classes"},{"location":"components/code_instance/#iscc_core.code_instance.InstanceHasher","text":"Incremental Instance-Hash generator.","title":"InstanceHasher"},{"location":"components/code_instance/#iscc_core.code_instance.InstanceHasher-methods","text":"","title":"Methods"},{"location":"components/code_instance/#iscc_core.code_instance.InstanceHasher.push","text":"Push data to the Instance-Hash generator. Parameters: Name Type Description Default data Data Data to be hashed required","title":"push()"},{"location":"components/code_instance/#iscc_core.code_instance.InstanceHasher.digest","text":"Return Instance-Hash Returns: Type Description bytes Instance-Hash digest","title":"digest()"},{"location":"components/code_instance/#iscc_core.code_instance.InstanceHasherV0","text":"Incremental Instance-Hash generator.","title":"InstanceHasherV0"},{"location":"components/code_instance/#iscc_core.code_instance.InstanceHasherV0-methods","text":"","title":"Methods"},{"location":"components/code_instance/#iscc_core.code_instance.InstanceHasherV0.push","text":"Push data to the Instance-Hash generator. Parameters: Name Type Description Default data Data Data to be hashed required","title":"push()"},{"location":"components/code_instance/#iscc_core.code_instance.InstanceHasherV0.digest","text":"Return Instance-Hash Returns: Type Description bytes Instance-Hash digest","title":"digest()"},{"location":"components/code_instance/#iscc_core.code_instance-functions","text":"","title":"Functions"},{"location":"components/code_instance/#iscc_core.code_instance.gen_instance_code","text":"Create an ISCC Instance-Code with the latest standard algorithm Parameters: Name Type Description Default stream Stream Binary data stream for Instance-Code generation. required bits int Bit-length resulting Instance-Code (multiple of 64) 64 Returns: Type Description str Instance-Code","title":"gen_instance_code()"},{"location":"components/code_instance/#iscc_core.code_instance.gen_instance_code_v0","text":"Create an ISCC Instance-Code with algorithm v0 Parameters: Name Type Description Default stream Stream Binary data stream for Instance-Code generation. required bits int Bit-length of resulting Instance-Code (multiple of 64) 64 Returns: Type Description str Instance-Code","title":"gen_instance_code_v0()"},{"location":"components/code_instance/#iscc_core.code_instance.hash_instance_v0","text":"Create 256-bit hash digest for the Instance-Code body Parameters: Name Type Description Default stream Stream Binary data stream for hash generation. required Returns: Type Description bytes 256-bit Instance-Hash digest","title":"hash_instance_v0()"},{"location":"components/code_meta/","text":"ISCC - Meta-Code The Meta-Code is the first component of a canonical ISCC. It is calculated as a similarity preserving hash from the metadata of a digital asset. The purpose of the Meta-Code is the discovery of digital assets with similar metadata or spelling mistakes. The metadata supplied to the algorithm is called seed metadata . Seed metadata is composed of a title and an optional generic extra -field that contains descriptive, industry-sector or use-case specific metadata in textual or binary form (e.g. file headers). We do not prescribe a particular schema. Functions gen_meta_code ( title , extra = None , bits = 64 ) Create an ISCC Meta-Code using the latest standard algorithm. Applications that generate ISCCs should prioritize explicitly passed title information. If not available they should try to extract a title form the digital asset itself. If extraction fails, the application should resort to a normalized filename before falling back to an empty string. Optional additional metadata may be supplied via the extra -field. The input can be: A textual description of the identified work for disambiguation purposes Structured (JSON) metadata conforming to an industry specific metadata schema Raw bitstream file headers automatically extracted binary file headers A pre-existing industry-specific identifier string Note It is recommended to use the minimal metadata required to disambiguate the work manifested by the digital asset. Parameters: Name Type Description Default title str Title of the work manifested by the digital asset required extra Union[str,bytes,None] Optional metadata for disambiguation None bits int Bit-length of resulting Meta-Code (multiple of 64) 64 Returns: Type Description str ISCC Meta-Code gen_meta_code_v0 ( title , extra = None , bits = 64 ) Create an ISCC Meta-Code with the algorithm version 0. Parameters: Name Type Description Default title str Title of the work manifested by the digital asset required extra Union[str,bytes,None] Optional metadata for disambiguation None bits int Bit-length of resulting Meta-Code (multiple of 64) 64 Returns: Type Description str ISCC Meta-Code hash_meta_v0 ( title , extra = None ) Calculate simmilarity preserving 256-bit hash digest from asset metadata. Textual input should be stripped of markup, normalized and trimmed before hashing. Json metadata should be normalized with JCS Note The processing algorithm depends on the type of the extra input. If the extra field is supplied and non-empty, we create separate hashes for title and extra and interleave them in 32-bit chunks: If the input is None or an empty str / bytes object the Meta-Hash will be generated from the title -field only. If the extra -input is a non-empty text string (str) the string is lower-cased and the processing unit is an utf-8 endoded character (possibly multibyte). The resulting hash is interleaved with the title -hash. If the extra -input is a non-empty bytes object the processing is done bytewise and the resulting hash is interleaved with the title -hash. Parameters: Name Type Description Default title str Title of the work manifested in the digital asset required extra Union[str,bytes,None] Additional metadata for disambiguation None Returns: Type Description bytes 256-bit simhash digest for Meta-Code trim_text ( text , nbytes ) Trim text such that its utf-8 encoded size does not exceed nbytes .","title":"Meta-Code"},{"location":"components/code_meta/#iscc-meta-code","text":"The Meta-Code is the first component of a canonical ISCC. It is calculated as a similarity preserving hash from the metadata of a digital asset. The purpose of the Meta-Code is the discovery of digital assets with similar metadata or spelling mistakes. The metadata supplied to the algorithm is called seed metadata . Seed metadata is composed of a title and an optional generic extra -field that contains descriptive, industry-sector or use-case specific metadata in textual or binary form (e.g. file headers). We do not prescribe a particular schema.","title":"ISCC - Meta-Code"},{"location":"components/code_meta/#iscc_core.code_meta-functions","text":"","title":"Functions"},{"location":"components/code_meta/#iscc_core.code_meta.gen_meta_code","text":"Create an ISCC Meta-Code using the latest standard algorithm. Applications that generate ISCCs should prioritize explicitly passed title information. If not available they should try to extract a title form the digital asset itself. If extraction fails, the application should resort to a normalized filename before falling back to an empty string. Optional additional metadata may be supplied via the extra -field. The input can be: A textual description of the identified work for disambiguation purposes Structured (JSON) metadata conforming to an industry specific metadata schema Raw bitstream file headers automatically extracted binary file headers A pre-existing industry-specific identifier string Note It is recommended to use the minimal metadata required to disambiguate the work manifested by the digital asset. Parameters: Name Type Description Default title str Title of the work manifested by the digital asset required extra Union[str,bytes,None] Optional metadata for disambiguation None bits int Bit-length of resulting Meta-Code (multiple of 64) 64 Returns: Type Description str ISCC Meta-Code","title":"gen_meta_code()"},{"location":"components/code_meta/#iscc_core.code_meta.gen_meta_code_v0","text":"Create an ISCC Meta-Code with the algorithm version 0. Parameters: Name Type Description Default title str Title of the work manifested by the digital asset required extra Union[str,bytes,None] Optional metadata for disambiguation None bits int Bit-length of resulting Meta-Code (multiple of 64) 64 Returns: Type Description str ISCC Meta-Code","title":"gen_meta_code_v0()"},{"location":"components/code_meta/#iscc_core.code_meta.hash_meta_v0","text":"Calculate simmilarity preserving 256-bit hash digest from asset metadata. Textual input should be stripped of markup, normalized and trimmed before hashing. Json metadata should be normalized with JCS Note The processing algorithm depends on the type of the extra input. If the extra field is supplied and non-empty, we create separate hashes for title and extra and interleave them in 32-bit chunks: If the input is None or an empty str / bytes object the Meta-Hash will be generated from the title -field only. If the extra -input is a non-empty text string (str) the string is lower-cased and the processing unit is an utf-8 endoded character (possibly multibyte). The resulting hash is interleaved with the title -hash. If the extra -input is a non-empty bytes object the processing is done bytewise and the resulting hash is interleaved with the title -hash. Parameters: Name Type Description Default title str Title of the work manifested in the digital asset required extra Union[str,bytes,None] Additional metadata for disambiguation None Returns: Type Description bytes 256-bit simhash digest for Meta-Code","title":"hash_meta_v0()"},{"location":"components/code_meta/#iscc_core.code_meta.trim_text","text":"Trim text such that its utf-8 encoded size does not exceed nbytes .","title":"trim_text()"},{"location":"components/content/","text":"ISCC - Content Codes","title":"ISCC - Content Codes"},{"location":"components/content/#iscc-content-codes","text":"","title":"ISCC - Content Codes"},{"location":"components/content/code_content_audio/","text":"ISCC - Content-Code Audio A similarity preserving hash for audio content (soft hash). The Content-Code Audio is generated from a Chromaprint fingerprint provided as a vector of 32-bit signed integers. Chromaprints are extracted with fpcalc 1.5.0 using the following command line parameters: $ fpcalc -raw -json -signed -length 0 myaudiofile.mp3 Functions gen_audio_code ( cv , bits = 64 ) Create an ISCC Content-Code Audio with the latest standard algorithm. Parameters: Name Type Description Default cv Iterable[int] Chromaprint vector required bits int Bit-length resulting Content-Code Audio (multiple of 64) 64 Returns: Type Description str Content-Code Audio gen_audio_code_v0 ( cv , bits = 64 ) Create an ISCC Content-Code Audio with algorithm v0. Parameters: Name Type Description Default cv Iterable[int] Chromaprint vector required bits int Bit-length resulting Content-Code Audio (multiple of 64) 64 Returns: Type Description str Content-Code Audio hash_audio_v0 ( cv ) Create 256-bit audio similarity hash from a chromaprint vector. Parameters: Name Type Description Default cv Iterable[int] Chromaprint vector required Returns: Type Description bytes 256-bit Audio-Hash digest","title":"Audio"},{"location":"components/content/code_content_audio/#iscc-content-code-audio","text":"A similarity preserving hash for audio content (soft hash). The Content-Code Audio is generated from a Chromaprint fingerprint provided as a vector of 32-bit signed integers. Chromaprints are extracted with fpcalc 1.5.0 using the following command line parameters: $ fpcalc -raw -json -signed -length 0 myaudiofile.mp3","title":"ISCC - Content-Code Audio"},{"location":"components/content/code_content_audio/#iscc_core.code_content_audio-functions","text":"","title":"Functions"},{"location":"components/content/code_content_audio/#iscc_core.code_content_audio.gen_audio_code","text":"Create an ISCC Content-Code Audio with the latest standard algorithm. Parameters: Name Type Description Default cv Iterable[int] Chromaprint vector required bits int Bit-length resulting Content-Code Audio (multiple of 64) 64 Returns: Type Description str Content-Code Audio","title":"gen_audio_code()"},{"location":"components/content/code_content_audio/#iscc_core.code_content_audio.gen_audio_code_v0","text":"Create an ISCC Content-Code Audio with algorithm v0. Parameters: Name Type Description Default cv Iterable[int] Chromaprint vector required bits int Bit-length resulting Content-Code Audio (multiple of 64) 64 Returns: Type Description str Content-Code Audio","title":"gen_audio_code_v0()"},{"location":"components/content/code_content_audio/#iscc_core.code_content_audio.hash_audio_v0","text":"Create 256-bit audio similarity hash from a chromaprint vector. Parameters: Name Type Description Default cv Iterable[int] Chromaprint vector required Returns: Type Description bytes 256-bit Audio-Hash digest","title":"hash_audio_v0()"},{"location":"components/content/code_content_image/","text":"ISCC - Content-Code Image A similarity preserving perceptual hash for images. The ISCC Content-Code Image is created by calculating a discrete cosine transform on normalized image-pixels and comparing the values from the upper left area of the dct-matrix against their median values to set the hash-bits. Functions gen_image_code ( img , bits = 64 ) Create an ISCC Content-Code Image with the latest standard algorithm. Parameters: Name Type Description Default img Stream Image data stream. required bits int Bit-length of ISCC Content-Code Image (default 64). 64 Returns: Type Description str ISCC Content-Code Image. gen_image_code_v0 ( img , bits = 64 ) Create an ISCC Content-Code Image with algorithm v0. Parameters: Name Type Description Default img Stream Image data stream. required bits int Bit-length of ISCC Content-Code Image (default 64). 64 Returns: Type Description str ISCC Content-Code Image. normalize_image ( img ) Normalize image for hash calculation. Add white background to images with alpha transparency Convert to grayscale Resize (bicubic) to 32x32 pixiels Parameters: Name Type Description Default img Stream Image data stream. required Returns: Type Description Sequence[int] A sequence of 1024 normalized image pixels hash_image_v0 ( pixels , bits = 64 ) Calculate image hash from normalized grayscale pixel sequence of length 1024. Parameters: Name Type Description Default pixels Sequence[int] required bits int Bit-length of image hash (default 64). 64 Returns: Type Description bytes Similarity preserving Image-Hash digest. dct ( v ) Discrete cosine transform. Copyright (c) 2020 Project Nayuki (MIT License). See: https://www.nayuki.io/page/fast-discrete-cosine-transform-algorithms). Parameters: Name Type Description Default v Sequence[float] Input vector for DCT calculation. required Returns: Type Description list Transformed vector.","title":"Image"},{"location":"components/content/code_content_image/#iscc-content-code-image","text":"A similarity preserving perceptual hash for images. The ISCC Content-Code Image is created by calculating a discrete cosine transform on normalized image-pixels and comparing the values from the upper left area of the dct-matrix against their median values to set the hash-bits.","title":"ISCC - Content-Code Image"},{"location":"components/content/code_content_image/#iscc_core.code_content_image-functions","text":"","title":"Functions"},{"location":"components/content/code_content_image/#iscc_core.code_content_image.gen_image_code","text":"Create an ISCC Content-Code Image with the latest standard algorithm. Parameters: Name Type Description Default img Stream Image data stream. required bits int Bit-length of ISCC Content-Code Image (default 64). 64 Returns: Type Description str ISCC Content-Code Image.","title":"gen_image_code()"},{"location":"components/content/code_content_image/#iscc_core.code_content_image.gen_image_code_v0","text":"Create an ISCC Content-Code Image with algorithm v0. Parameters: Name Type Description Default img Stream Image data stream. required bits int Bit-length of ISCC Content-Code Image (default 64). 64 Returns: Type Description str ISCC Content-Code Image.","title":"gen_image_code_v0()"},{"location":"components/content/code_content_image/#iscc_core.code_content_image.normalize_image","text":"Normalize image for hash calculation. Add white background to images with alpha transparency Convert to grayscale Resize (bicubic) to 32x32 pixiels Parameters: Name Type Description Default img Stream Image data stream. required Returns: Type Description Sequence[int] A sequence of 1024 normalized image pixels","title":"normalize_image()"},{"location":"components/content/code_content_image/#iscc_core.code_content_image.hash_image_v0","text":"Calculate image hash from normalized grayscale pixel sequence of length 1024. Parameters: Name Type Description Default pixels Sequence[int] required bits int Bit-length of image hash (default 64). 64 Returns: Type Description bytes Similarity preserving Image-Hash digest.","title":"hash_image_v0()"},{"location":"components/content/code_content_image/#iscc_core.code_content_image.dct","text":"Discrete cosine transform. Copyright (c) 2020 Project Nayuki (MIT License). See: https://www.nayuki.io/page/fast-discrete-cosine-transform-algorithms). Parameters: Name Type Description Default v Sequence[float] Input vector for DCT calculation. required Returns: Type Description list Transformed vector.","title":"dct()"},{"location":"components/content/code_content_text/","text":"ISCC - Content-Code Text A similarity preserving hash for text content (soft hash). The ISCC Content-Code Text is generated from plain-text that has been extracted from different media assets. Functions gen_text_code ( text , bits = 64 ) Create an ISCC Content-Code Text with the latest standard algorithm. Note If text input includes markup (like HTML tags) it must be removed beforehand. Parameters: Name Type Description Default text str Plain text for Text-Code creation. required bits int Bit-length (multiple of 32) for ISCC Code Hash (default 64). 64 Returns: Type Description str ISCC Content-Code Text. gen_text_code_v0 ( text , bits = 64 ) Create ISCC Content-Code Text with algorithm v0 Normalize and lowercase text. Create a Simhash from the tokens generated by a 13-character sliding window. Encode resulting byte hash with ISCC codec. Parameters: Name Type Description Default text str Normalized text for Text-Code creation. required bits int Bit-length of ISCC Code Hash (default 64). 64 Returns: Type Description str ISCC Content-Code Text. normalize_text ( text ) Unicode normalization and character filtering. Decode to Unicode. Remove leading/trailing whitespace. Decompose with NFD normalization. Filter special characters and whitespace. Remove duplicate whitespace. Recombine with NFKC normalization. Parameters: Name Type Description Default text str Plain text to be normalized. required Returns: Type Description str Normalized plain text. hash_text_v0 ( text ) Create a 256-bit similarity preserving hash for text input with v0 algorithm. Text should be stripped of markup, normalized and lowercased before hash creation. Parameters: Name Type Description Default text str Plain text to be hashed. required Returns: Type Description bytes 256-bit similarity preserving byte hash","title":"Text"},{"location":"components/content/code_content_text/#iscc-content-code-text","text":"A similarity preserving hash for text content (soft hash). The ISCC Content-Code Text is generated from plain-text that has been extracted from different media assets.","title":"ISCC - Content-Code Text"},{"location":"components/content/code_content_text/#iscc_core.code_content_text-functions","text":"","title":"Functions"},{"location":"components/content/code_content_text/#iscc_core.code_content_text.gen_text_code","text":"Create an ISCC Content-Code Text with the latest standard algorithm. Note If text input includes markup (like HTML tags) it must be removed beforehand. Parameters: Name Type Description Default text str Plain text for Text-Code creation. required bits int Bit-length (multiple of 32) for ISCC Code Hash (default 64). 64 Returns: Type Description str ISCC Content-Code Text.","title":"gen_text_code()"},{"location":"components/content/code_content_text/#iscc_core.code_content_text.gen_text_code_v0","text":"Create ISCC Content-Code Text with algorithm v0 Normalize and lowercase text. Create a Simhash from the tokens generated by a 13-character sliding window. Encode resulting byte hash with ISCC codec. Parameters: Name Type Description Default text str Normalized text for Text-Code creation. required bits int Bit-length of ISCC Code Hash (default 64). 64 Returns: Type Description str ISCC Content-Code Text.","title":"gen_text_code_v0()"},{"location":"components/content/code_content_text/#iscc_core.code_content_text.normalize_text","text":"Unicode normalization and character filtering. Decode to Unicode. Remove leading/trailing whitespace. Decompose with NFD normalization. Filter special characters and whitespace. Remove duplicate whitespace. Recombine with NFKC normalization. Parameters: Name Type Description Default text str Plain text to be normalized. required Returns: Type Description str Normalized plain text.","title":"normalize_text()"},{"location":"components/content/code_content_text/#iscc_core.code_content_text.hash_text_v0","text":"Create a 256-bit similarity preserving hash for text input with v0 algorithm. Text should be stripped of markup, normalized and lowercased before hash creation. Parameters: Name Type Description Default text str Plain text to be hashed. required Returns: Type Description bytes 256-bit similarity preserving byte hash","title":"hash_text_v0()"},{"location":"components/content/code_content_video/","text":"ISCC - Content-Code Video ISCC Content-Code Video The Content-Code Video is generated from MPEG-7 Video Frame Signatures. Frame Signatures can be extracted with ffmpeg (see: https://www.ffmpeg.org/) using the following command line parameters: $ ffmpeg -i video.mpg -vf fps=fps=5,signature=format=xml:filename=sig.xml -f null - The relevant frame signatures can be parsed from the following elements in sig.xml: <FrameSignature>0 0 0 1 0 0 1 0 1 1 0 0 1 1 ...</FrameSignature> Note it is also possible to extract the signatures in a more compact binary format but it requires a custom binary parser to decode the frame signaturs. Functions gen_video_code ( frame_signatures , bits = 64 ) Create an ISCC Content-Code Video with the latest standard algorithm. gen_video_code_v0 ( frame_signatures , bits = 64 ) Create an ISCC Content-Code Video with algorithm v0. hash_video_v0 ( frame_signatures ) Compute 256-bit video hash v0 from MP7 frame signatures.","title":"Video"},{"location":"components/content/code_content_video/#iscc-content-code-video","text":"","title":"ISCC - Content-Code Video"},{"location":"components/content/code_content_video/#iscc_core.code_content_video--iscc-content-code-video","text":"The Content-Code Video is generated from MPEG-7 Video Frame Signatures. Frame Signatures can be extracted with ffmpeg (see: https://www.ffmpeg.org/) using the following command line parameters: $ ffmpeg -i video.mpg -vf fps=fps=5,signature=format=xml:filename=sig.xml -f null - The relevant frame signatures can be parsed from the following elements in sig.xml: <FrameSignature>0 0 0 1 0 0 1 0 1 1 0 0 1 1 ...</FrameSignature> Note it is also possible to extract the signatures in a more compact binary format but it requires a custom binary parser to decode the frame signaturs.","title":"ISCC Content-Code Video"},{"location":"components/content/code_content_video/#iscc_core.code_content_video-functions","text":"","title":"Functions"},{"location":"components/content/code_content_video/#iscc_core.code_content_video.gen_video_code","text":"Create an ISCC Content-Code Video with the latest standard algorithm.","title":"gen_video_code()"},{"location":"components/content/code_content_video/#iscc_core.code_content_video.gen_video_code_v0","text":"Create an ISCC Content-Code Video with algorithm v0.","title":"gen_video_code_v0()"},{"location":"components/content/code_content_video/#iscc_core.code_content_video.hash_video_v0","text":"Compute 256-bit video hash v0 from MP7 frame signatures.","title":"hash_video_v0()"},{"location":"options/options/","text":"Classes CoreOptions ( BaseSettings ) pydantic-model Parameters with defaults for ISCC calculations. Attributes meta_bits : int pydantic-field Default length of generated Meta-Code in bits meta_trim_title : int pydantic-field Trim title length to this mumber of bytes meta_trim_extra : int pydantic-field Trim extra to this number of bytes meta_ngram_size_title : int pydantic-field Sliding window width (characters) for title metadata meta_ngram_size_extra_text : int pydantic-field Sliding window width (characters) for textural extra metadata meta_ngram_size_extra_binary : int pydantic-field Sliding window width (bytes) for binary extra metadata text_bits : int pydantic-field Default length of generated Content-Code Text in bits text_ngram_size : int pydantic-field Number of characters per feature hash (size of sliding window) text_unicode_filter : frozenset pydantic-field Unicode categories to remove during text normalization text_whitespace : frozenset pydantic-field Common control characters considered whitespace image_bits : int pydantic-field Default length of generated Content-Code Image in bits audio_bits : int pydantic-field Default length of generated Content-Code Audio in bits video_bits : int pydantic-field Default length of generated Content-Code Video in bits data_bits : int pydantic-field Default length of generated Data-Code in bits instance_bits : int pydantic-field Default length of generated Instance-Code in bits instance_read_size : int pydantic-field File read buffer during instance hashing cdc_read_size : int pydantic-field File read buffer during chunking cdc_avg_chunk_size : int pydantic-field Target chunk size in number of bytes. cdc_gear : Tuple pydantic-field Random gear vector","title":"Options"},{"location":"options/options/#iscc_core.options-classes","text":"","title":"Classes"},{"location":"options/options/#iscc_core.options.CoreOptions","text":"Parameters with defaults for ISCC calculations.","title":"CoreOptions"},{"location":"options/options/#iscc_core.options.CoreOptions-attributes","text":"","title":"Attributes"},{"location":"options/options/#iscc_core.options.CoreOptions.meta_bits","text":"Default length of generated Meta-Code in bits","title":"meta_bits"},{"location":"options/options/#iscc_core.options.CoreOptions.meta_trim_title","text":"Trim title length to this mumber of bytes","title":"meta_trim_title"},{"location":"options/options/#iscc_core.options.CoreOptions.meta_trim_extra","text":"Trim extra to this number of bytes","title":"meta_trim_extra"},{"location":"options/options/#iscc_core.options.CoreOptions.meta_ngram_size_title","text":"Sliding window width (characters) for title metadata","title":"meta_ngram_size_title"},{"location":"options/options/#iscc_core.options.CoreOptions.meta_ngram_size_extra_text","text":"Sliding window width (characters) for textural extra metadata","title":"meta_ngram_size_extra_text"},{"location":"options/options/#iscc_core.options.CoreOptions.meta_ngram_size_extra_binary","text":"Sliding window width (bytes) for binary extra metadata","title":"meta_ngram_size_extra_binary"},{"location":"options/options/#iscc_core.options.CoreOptions.text_bits","text":"Default length of generated Content-Code Text in bits","title":"text_bits"},{"location":"options/options/#iscc_core.options.CoreOptions.text_ngram_size","text":"Number of characters per feature hash (size of sliding window)","title":"text_ngram_size"},{"location":"options/options/#iscc_core.options.CoreOptions.text_unicode_filter","text":"Unicode categories to remove during text normalization","title":"text_unicode_filter"},{"location":"options/options/#iscc_core.options.CoreOptions.text_whitespace","text":"Common control characters considered whitespace","title":"text_whitespace"},{"location":"options/options/#iscc_core.options.CoreOptions.image_bits","text":"Default length of generated Content-Code Image in bits","title":"image_bits"},{"location":"options/options/#iscc_core.options.CoreOptions.audio_bits","text":"Default length of generated Content-Code Audio in bits","title":"audio_bits"},{"location":"options/options/#iscc_core.options.CoreOptions.video_bits","text":"Default length of generated Content-Code Video in bits","title":"video_bits"},{"location":"options/options/#iscc_core.options.CoreOptions.data_bits","text":"Default length of generated Data-Code in bits","title":"data_bits"},{"location":"options/options/#iscc_core.options.CoreOptions.instance_bits","text":"Default length of generated Instance-Code in bits","title":"instance_bits"},{"location":"options/options/#iscc_core.options.CoreOptions.instance_read_size","text":"File read buffer during instance hashing","title":"instance_read_size"},{"location":"options/options/#iscc_core.options.CoreOptions.cdc_read_size","text":"File read buffer during chunking","title":"cdc_read_size"},{"location":"options/options/#iscc_core.options.CoreOptions.cdc_avg_chunk_size","text":"Target chunk size in number of bytes.","title":"cdc_avg_chunk_size"},{"location":"options/options/#iscc_core.options.CoreOptions.cdc_gear","text":"Random gear vector","title":"cdc_gear"},{"location":"utilities/utils/","text":"Functions sliding_window ( seq , width ) Generate a sequence of equal \"width\" slices each advancing by one elemnt. All types that have a length and can be sliced are supported (list, tuple, str ...). The result type matches the type of the input sequence. Fragment slices smaller than the width at the end of the sequence are not produced. If \"witdh\" is smaller than the input sequence than one element will be returned that is shorter than the requested width. Parameters: Name Type Description Default seq Sequence Sequence of values to slide over required width int Width of sliding window in number of items required Returns: Type Description Union[Generat,] A generator of window sized items","title":"Utilities"},{"location":"utilities/utils/#iscc_core.utils-functions","text":"","title":"Functions"},{"location":"utilities/utils/#iscc_core.utils.sliding_window","text":"Generate a sequence of equal \"width\" slices each advancing by one elemnt. All types that have a length and can be sliced are supported (list, tuple, str ...). The result type matches the type of the input sequence. Fragment slices smaller than the width at the end of the sequence are not produced. If \"witdh\" is smaller than the input sequence than one element will be returned that is shorter than the requested width. Parameters: Name Type Description Default seq Sequence Sequence of values to slide over required width int Width of sliding window in number of items required Returns: Type Description Union[Generat,] A generator of window sized items","title":"sliding_window()"}]}